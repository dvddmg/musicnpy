{# Estende il layout base del tema Bootstrap #}
{% extends "!layout.html" %}

{# Sovrascrive il blocco navbar #}
{% block navbar %}
<div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    
    {# Brand/Logo #}
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" id="menu-toggle">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="{{ pathto(master_doc) }}">{{ project }}</a>
    </div>

    <div class="navbar-collapse" id="main-nav">
      <ul class="nav navbar-nav">
        
        {# Menu a tendina Moduli #}
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button">
            Moduli <span class="caret"></span>
          </a>
          <ul class="dropdown-menu">
            {# Aggiungi qui i tuoi moduli #}
            <li><a href="{{ pathto('core') }}">Core</a></li>
            <li><a href="{{ pathto('utils') }}">Utils</a></li>
            <li class="divider"></li>
            <li><a href="{{ pathto('py-modindex') }}">Indice Moduli</a></li>
          </ul>
        </li>
        
      </ul>

      {# Barra di ricerca a destra #}
      <form class="navbar-form navbar-right" action="{{ pathto('search') }}" method="get">
        <div class="form-group">
          <input type="text" class="form-control" name="q" placeholder="Cerca...">
        </div>
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
      </form>

    </div>
  </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    var toggle = document.getElementById('menu-toggle');
    var menu = document.getElementById('main-nav');
    
    if (toggle && menu) {
        toggle.addEventListener('click', function(e) {
            e.preventDefault();
            menu.classList.toggle('open');
        });
    }
});
</script>
{% endblock %}